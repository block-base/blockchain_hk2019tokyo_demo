(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1366:function(e,t,n){"use strict";n.r(t);n(68);var r=n(13),d=n(676),y=n(1340),o=n.n(y),c=(n(381),n(317)),m=n(263),l={data:function(){return{imageName:"https://ipfs.io/ipfs/QmPiS2HppdHhpkEyMB3J2krxK5Fw8SFG26Y5dmXANdvE8C",privateKey:m.default.studentPrivateKey,imageUrl:""}},mounted:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.activate(web3.currentProvider);case 2:e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{unlock:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o()(this.imageName);case 2:return t=e.sent,console.log(t.data),e.next=6,d.a.decryptWithPrivateKey(this.privateKey,t.data);case 6:n=e.sent,this.imageUrl="data:image/png;base64,"+n,console.log(this.imageUrl);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}},f=n(39),v=n(94),x=n.n(v),h=n(90),_=n(1367),w=n(1361),k=n(1362),A=n(92),C=n(1363),component=Object(f.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{staticClass:"pa-4"},[n("v-card-title",{attrs:{"primary-title":""}},[n("div",{staticClass:"headline"},[e._v("プライベート証明書の復元")])]),e._v(" "),n("v-form",[n("v-text-field",{attrs:{label:"Select Content","prepend-icon":"attach_file"},model:{value:e.imageName,callback:function(t){e.imageName=t},expression:"imageName"}}),e._v(" "),n("v-text-field",{attrs:{label:"秘密鍵","prepend-icon":"vpn_key"},model:{value:e.privateKey,callback:function(t){e.privateKey=t},expression:"privateKey"}}),e._v(" "),n("v-btn",{attrs:{color:"orange darken-2",dark:""},on:{click:e.unlock}},[e._v("証明書の復元"),n("v-icon",{attrs:{right:""}},[e._v("lock_open")])],1)],1)],1),e._v(" "),e.imageUrl?n("img",{staticClass:"pa-5",attrs:{src:e.imageUrl,width:"100%"}}):e._e()],1)},[],!1,null,null,null);t.default=component.exports;x()(component,{VBtn:h.a,VCard:_.a,VCardTitle:w.a,VForm:k.a,VIcon:A.a,VTextField:C.a})},263:function(e,t,n){"use strict";n.r(t);t.default={call:0,certification:100001,studentPrivateKey:"0x61454a40702ecfa46e0d83488267dead6f0907bf5b27b1a53b4d090a0408eb4e",studentAddress:"0xf9242d747d35e4A3874901A30B49e67866Df41e3",studentPublicKey:"82d088deafe3b28ba544a5fa02eaf147e1677bd345d1c9280f85495f5f38f474d32fae3f88a6a3a409a3fc3bfcfd20fd510c6dd004da824413f2ab06bb3a3c8f",userIdentityAddress:"0xb6B23f917D1FF382754CD891F84788248D39a496",schoolIdentityAddress:"0x72439bba904bf5d4ce83e90a7e7466a74c3cedab",identityABI:[{inputs:[{name:"_owner",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"value",type:"bytes32"}],name:"DataChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"contractAddress",type:"address"}],name:"ContractCreated",type:"event"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getData",outputs:[{name:"_value",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_value",type:"bytes32"}],name:"setData",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_operationType",type:"uint256"},{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],claimHolderAddress:"0x6d101888b74715b7669a1faefb594ad9af282b04",claimHolderABI:[{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"_purposes",type:"uint256"},{name:"_keyType",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purposes",type:"uint256"},{name:"_keyType",type:"uint256"}],name:"setKey",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"}],name:"removeKey",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"claimRequestId",type:"uint256"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signatureType",type:"uint256"},{indexed:!1,name:"signature",type:"bytes32"},{indexed:!1,name:"claim",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"claimId",type:"bytes32"},{indexed:!0,name:"claimType",type:"uint256"},{indexed:!1,name:"scheme",type:"uint256"},{indexed:!0,name:"issuer",type:"address"},{indexed:!1,name:"signature",type:"bytes"},{indexed:!1,name:"data",type:"bytes"},{indexed:!1,name:"uri",type:"string"}],name:"ClaimChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purposes",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeySet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purposes",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{constant:!1,inputs:[{name:"_claimType",type:"uint256"},{name:"_scheme",type:"uint256"},{name:"_issuer",type:"address"},{name:"_signature",type:"bytes"},{name:"_data",type:"bytes"},{name:"_uri",type:"string"}],name:"addClaim",outputs:[{name:"claimRequestId",type:"bytes32"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_claimId",type:"bytes32"}],name:"removeClaim",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_claimId",type:"bytes32"}],name:"getClaim",outputs:[{name:"claimType",type:"uint256"},{name:"scheme",type:"uint256"},{name:"issuer",type:"address"},{name:"signature",type:"bytes"},{name:"data",type:"bytes"},{name:"uri",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_claimType",type:"uint256"}],name:"getClaimIdsByType",outputs:[{name:"claimIds",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"}],claimVerifierAddress:"0xaa24902e67f1669882403530c198bf07c835a91f",claimVerifierABI:[{constant:!0,inputs:[{name:"_identity",type:"address"},{name:"hash",type:"bytes"},{name:"claimType",type:"uint256"}],name:"verify",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"sig",type:"bytes"},{name:"dataHash",type:"bytes32"}],name:"getRecoveredAddress",outputs:[{name:"addr",type:"address"}],payable:!1,stateMutability:"pure",type:"function"}],schoolOwnerAddress:"0x61a12c10676E7Ef993D21e3B1DA9A137406b9689",schoolOwnerPriveteKey:"0xa48de82caf25eb90d81cb42f3fcf788bce60d6d4d8b527c90b8306324b7bfd09"}},317:function(e,t,n){"use strict";n(68);var r=n(13),d=n(263).default,y=new(n(443))("https://rinkeby.infura.io"),o={userIdentity:new y.eth.Contract(d.identityABI,d.userIdentityAddress),schoolIdentity:new y.eth.Contract(d.identityABI,d.schoolIdentityAddress),claimHolder:new y.eth.Contract(d.claimHolderABI,d.claimHolderAddress),claimVerifier:new y.eth.Contract(d.claimVerifierABI,d.claimVerifierAddress)},c={address:null},m=function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y.setProvider(t),e.next=3,y.eth.getAccounts();case 3:return n=e.sent,c.address=n[0],setInterval(Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:y.eth.getAccounts().then(function(e){c.address!=e[0]&&(c.address=e[0],location.reload())});case 1:case"end":return e.stop()}},e,this)})),100),e.abrupt("return",c);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),l={account:c,activate:m,contract:o,web3:y};t.a=l},360:function(e,t){},361:function(e,t){},367:function(e,t){},368:function(e,t){},381:function(e,t,n){"use strict";(function(e){n(68);var r=n(13),d=new(n(503))({host:"ipfs.infura.io",port:5001,protocol:"https"});function y(){}y.add=function(data){return new Promise(function(t){d.add(e.from(data)).then(function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(n[0].hash);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return console.log(e)})})},t.a=y}).call(this,n(197).Buffer)},417:function(e,t){},517:function(e,t){},518:function(e,t){},529:function(e,t){},530:function(e,t){},538:function(e,t){},539:function(e,t){},544:function(e,t){},598:function(e,t){},620:function(e,t){},648:function(e,t){}}]);